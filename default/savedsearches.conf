[Splunk AI Assistant for SPL - Telemetry]
action.email.sendresults                   = 0
action.outputtelemetry                     = 1
action.outputtelemetry.param.anonymous     = 1
action.outputtelemetry.param.support       = 0
action.outputtelemetry.param.license       = 0
action.outputtelemetry.param.optinrequired = 3
action.outputtelemetry.param.component     = app.Splunk_AI_Assistant_Cloud.splgen
action.outputtelemetry.param.input         = data
action.outputtelemetry.param.type          = aggregate
alert.track                                = false
counttype                                  = number of events
relation                                   = greater than
quantity                                   = 0
cron_schedule                              = 33 3 * * *
description                                = Sends anonymous operational data
disabled                                   = False
dispatch.earliest_time                     = -1d@d
dispatch.latest_time                       = @d
enableSched                                = 1
is_visible                                 = false
schedule_window                            = auto
search                                     = index="_internal" source="*splunk_ai_assistant.log*" \
| rex field=_raw "PID (?<PID>\d+)" \
| stats values(*) as *, max(columns) as maxColumns, sum(rows) as numRows by request_id \
| sort _time \
| eval build_type="prod" \
| fields * \
| makejson output=data \
| table data

[Splunk AI Assistant for SPL - Feedback Telemetry]
action.email.sendresults                   = 0
action.outputtelemetry                     = 1
action.outputtelemetry.param.anonymous     = 1
action.outputtelemetry.param.support       = 0
action.outputtelemetry.param.license       = 0
action.outputtelemetry.param.optinrequired = 3
action.outputtelemetry.param.component     = app.Splunk_AI_Assistant_Cloud.splgen.usage
action.outputtelemetry.param.input         = data
action.outputtelemetry.param.type          = aggregate
alert.track                                = false
counttype                                  = number of events
relation                                   = greater than
quantity                                   = 0
cron_schedule                              = 33 3 * * *
description                                = Sends anonymous feedback data
disabled                                   = False
dispatch.earliest_time                     = -1d@d
dispatch.latest_time                       = @d
enableSched                                = 1
is_visible                                 = false
schedule_window                            = auto
search                                     = index="_internal" sourcetype="splgen_feedback" \
| makejson output=data \
| table data


[Splunk AI Assistant for SPL - Open In Search Telemetry]
action.email.sendresults                   = 0
action.outputtelemetry                     = 1
action.outputtelemetry.param.anonymous     = 1
action.outputtelemetry.param.support       = 0
action.outputtelemetry.param.license       = 0
action.outputtelemetry.param.optinrequired = 3
action.outputtelemetry.param.component     = app.Splunk_AI_Assistant_Cloud.splgen.openinsearch
action.outputtelemetry.param.input         = data
action.outputtelemetry.param.type          = aggregate
alert.track                                = false
counttype                                  = number of events
relation                                   = greater than
quantity                                   = 0
cron_schedule                              = 33 3 * * *
description                                = Sends user info and spl when clicking open in search button
disabled                                   = False
dispatch.earliest_time                     = -1d@d
dispatch.latest_time                       = @d
enableSched                                = 1
is_visible                                 = false
schedule_window                            = auto
search                                     = index="_internal" sourcetype="splgen_openinsearch" \
| makejson output=data \
| table data

# [Splunk AI Assistant for SPL - Field Summary]
# cron_schedule                              = 0 0 * * *
# description                                = Sends details on fields across all indexes
# dispatch.earliest_time                     = -1d@d
# disabled                                   = true
# is_visible                                 = false
# schedule_window                            = auto
# enableSched                                = 1
# search                                     = | tstats count where `saias_field_summary_indexes` by sourcetype index \
# | dedup sourcetype, index \
# | rename index as indexname, sourcetype as sourcetypename \
# | map maxsearches=1000 search="| search index=\"$indexname$\" sourcetype=\"$sourcetypename$\" | `saias_field_summary_limit` | fieldsummary | eval index=\"$indexname$\", sourcetype=\"$sourcetypename$\"" \
# | submitfielddata

[Splunk AI Assistant for SPL - Search Logs]
cron_schedule                              = 0 0 * * *
description                                = Sends previous SPL search logs
dispatch.earliest_time                     = -1d@d
disabled                                   = true
is_visible                                 = false
schedule_window                            = auto
enableSched                                = 1
search                                     = index=_audit action=search info=granted OR info=completed search=* \
NOT "search_id='scheduler" NOT "search='|history" NOT "user=splunk-system-user" NOT "user=admin" NOT "user=internal_observability" NOT "search='typeahead" \
NOT "search='| metadata type=* | search totalCount>0" NOT "search='| chathistory" NOT "search='| splgenfeedback" \
NOT "search='| loadjob" NOT "search='| setscsinfo" NOT "about_release.csv" NOT "search disabled=0 title=Splunk_AI_Assistant_Cloud" \
| stats count by user search _time | sort -_time | convert ctime(_time) | dedup search user \
| join user [|rest /services/authentication/users splunk_server=local | stats list(roles) by title \
| rename title as user | rename list(roles) as roles] | submitsearchlogs

[Splunk AI Assistant for SPL - Indexed Fields]
cron_schedule                              = 30 4 * * 0
description                                = Sends indexed field names
dispatch.earliest_time                     = -1m
disabled                                   = true
is_visible                                 = false
schedule_window                            = auto
enableSched                                = 1
search                                     = | walklex type=field index=* | table index, field \
| append [ | walklex type=field index=_* | table index, field ] \
| submitindexedfields
